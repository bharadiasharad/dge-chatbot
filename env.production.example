# =============================================================================
# RAG CHAT STORAGE MICROSERVICE - PRODUCTION ENVIRONMENT
# =============================================================================
# Copy this file to .env.production and update with your production values
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
APP_PORT=8000
APP_NAME="RAG Chat Storage Microservice"
APP_VERSION=1.0.0
APP_HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL with pgvector)
# =============================================================================
DATABASE_HOST=your-production-db-host
DATABASE_PORT=5432
DATABASE_USERNAME=your-production-db-user
DATABASE_PASSWORD=your-production-db-password
DATABASE_NAME=rag_chat_storage_prod
DATABASE_SSL=true
DATABASE_SYNCHRONIZE=false
DATABASE_LOGGING=false
DATABASE_MAX_CONNECTIONS=50
DATABASE_CONNECTION_TIMEOUT=10000
DATABASE_IDLE_TIMEOUT=60000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=your-production-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-production-redis-password
REDIS_DB=0
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=5

# =============================================================================
# JWT CONFIGURATION (SECURITY - CHANGE THESE!)
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-this-in-production
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# API KEY CONFIGURATION (SECURITY - CHANGE THIS!)
# =============================================================================
API_KEY=your-super-secret-api-key-change-this-in-production

# =============================================================================
# OLLAMA CONFIGURATION (LLM)
# =============================================================================
OLLAMA_HOST=your-production-ollama-host
OLLAMA_PORT=11434
OLLAMA_MODEL=phi3:mini
OLLAMA_TIMEOUT=300000
OLLAMA_TEMPERATURE=0.7
OLLAMA_TOP_P=0.9
OLLAMA_MAX_TOKENS=1000

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=1000
RATE_LIMIT_MAX_PER_USER=100
RATE_LIMIT_MAX_PER_API_KEY=500

# =============================================================================
# PAGINATION CONFIGURATION
# =============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/app
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_CREDENTIALS=true
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-API-Key

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
HELMET_ENABLED=true
COMPRESSION_ENABLED=true
REQUEST_TIMEOUT=60000
RESPONSE_TIMEOUT=60000

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_DATABASE_TIMEOUT=10000
HEALTH_CHECK_REDIS_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
UPLOAD_MAX_FILE_SIZE=52428800
UPLOAD_ALLOWED_TYPES=txt,pdf
UPLOAD_DESTINATION=/var/app/uploads
UPLOAD_TEMP_DIR=/var/app/temp

# =============================================================================
# VECTOR STORAGE CONFIGURATION (pgvector)
# =============================================================================
VECTOR_DIMENSION=1536
VECTOR_SIMILARITY_THRESHOLD=0.7
VECTOR_MAX_RESULTS=20

# =============================================================================
# RAG CONFIGURATION
# =============================================================================
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_MAX_CONTEXT_LENGTH=4000
RAG_TEMPERATURE=0.7
RAG_TOP_P=0.9

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
SWAGGER_ENABLED=false
SWAGGER_TITLE="RAG Chat Storage API"
SWAGGER_DESCRIPTION="API documentation for RAG Chat Storage Microservice"
SWAGGER_VERSION=1.0.0
SWAGGER_CONTACT_NAME="Production Team"
SWAGGER_CONTACT_EMAIL="prod@yourdomain.com" 