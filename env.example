# =============================================================================
# RAG CHAT STORAGE MICROSERVICE - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values for your environment
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
APP_PORT=8000
APP_NAME="RAG Chat Storage Microservice"
APP_VERSION=1.0.0
APP_HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL with pgvector)
# =============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5433
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=postgres
DATABASE_NAME=rag_chat_storage
DATABASE_SSL=false
DATABASE_SYNCHRONIZE=true
DATABASE_LOGGING=false
DATABASE_MAX_CONNECTIONS=20
DATABASE_CONNECTION_TIMEOUT=5000
DATABASE_IDLE_TIMEOUT=30000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=3

# =============================================================================
# JWT CONFIGURATION (SECURITY - CHANGE IN PRODUCTION)
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-this-in-production
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# API KEY CONFIGURATION (SECURITY - CHANGE IN PRODUCTION)
# =============================================================================
API_KEY=your-super-secret-api-key-change-this-in-production

# =============================================================================
# OLLAMA CONFIGURATION (LLM)
# =============================================================================
OLLAMA_HOST=ollama
OLLAMA_PORT=11434
OLLAMA_MODEL=phi3:mini
OLLAMA_TIMEOUT=300000
OLLAMA_TEMPERATURE=0.7
OLLAMA_TOP_P=0.9
OLLAMA_MAX_TOKENS=1000

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
RATE_LIMIT_MAX_PER_USER=50
RATE_LIMIT_MAX_PER_API_KEY=200

# =============================================================================
# PAGINATION CONFIGURATION
# =============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE_PATH=logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:8000,http://localhost:3001,http://localhost:8080,http://localhost:3000
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_CREDENTIALS=true
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-API-Key

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
HELMET_ENABLED=true
COMPRESSION_ENABLED=true
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_DATABASE_TIMEOUT=5000
HEALTH_CHECK_REDIS_TIMEOUT=3000
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=3
HEALTH_CHECK_RETRIES=3

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=txt,pdf
UPLOAD_DESTINATION=uploads
UPLOAD_TEMP_DIR=temp

# =============================================================================
# VECTOR STORAGE CONFIGURATION (pgvector)
# =============================================================================
VECTOR_DIMENSION=1536
VECTOR_SIMILARITY_THRESHOLD=0.7
VECTOR_MAX_RESULTS=10

# =============================================================================
# RAG CONFIGURATION
# =============================================================================
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_MAX_CONTEXT_LENGTH=3000
RAG_TEMPERATURE=0.7
RAG_TOP_P=0.9

# =============================================================================
# pgAdmin CONFIGURATION (OPTIONAL - FOR DEVELOPMENT)
# =============================================================================
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
SWAGGER_ENABLED=true
SWAGGER_TITLE="RAG Chat Storage API"
SWAGGER_DESCRIPTION="API documentation for RAG Chat Storage Microservice"
SWAGGER_VERSION=1.0.0
SWAGGER_CONTACT_NAME="Development Team"
SWAGGER_CONTACT_EMAIL="dev@example.com"

# =============================================================================
# PRODUCTION OVERRIDES (Uncomment and set for production)
# =============================================================================
# NODE_ENV=production
# DATABASE_SSL=true
# DATABASE_SYNCHRONIZE=false
# DATABASE_LOGGING=false
# LOG_LEVEL=info
# SWAGGER_ENABLED=false
# CORS_ORIGIN=https://yourdomain.com
# HELMET_ENABLED=true
# COMPRESSION_ENABLED=true
